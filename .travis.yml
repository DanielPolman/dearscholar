language: objective-c
osx_image: xcode11.2
before_install:
- nvm install v12.16.2 --reinstall-packages-from=node
- nvm use v12.16.2
- echo rvm_autoupdate_flag=2 >> ~/.rvmrc
- wget http://dl.google.com/android/android-sdk_r24.4.1-macosx.zip
- unzip android-sdk_r24.4.1-macosx.zip
- export ANDROID_HOME=$PWD/android-sdk-macosx
- export ANDROID_SDK_ROOT=$PWD/android-sdk-macosx
- export PATH=${PATH}:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools
- echo yes | android update sdk --filter platform-tools --no-ui --force > /dev/null
- echo yes | android update sdk --filter android-28 --no-ui --force > /dev/null
- echo yes | android update sdk --filter build-tools-28.0.3 --all --no-ui --force > /dev/null
- cd app
install:
- npm install -g cordova
script:
- cordova platform add ios@5.1.1
- cordova platform add android

install:
  - "build script"

script:
  - "test script"

addons:
  browserstack:
    username: "peterkruyen1"
    access_key: 
      secure: "QflrXxjk8HswLeCLKeXj1ShjpYpQanYxvvsMepNE57EfUgIj83gyyjPk9Z5yemf3Ugzgr95oz6VxZLhJeqoI+66RUgR+BqDKZ+D2atpvCQkI4u1jP9jynYTMS80kLcopBU3dOUwiCnKc6oWard/Jq1k6k1+qIucZoYGKOnulqUoUNOaKgUkH2yl443cpEqxZQPkqza4N9/K5Cu6U6kOBLjTJA6oVJ4swpmqjK/OK7bUoas8jSEp89Eh/0PPCWQivVxfItW6NGNaZ2i0XFJbJ4hIwHFMIvFWh9zTic56KZPJxpQpjGrggVLy93bsqycKYlMCoDG0HQ2MIvo77jj0iPlasFqgYyE2ThWT40PdOXuVS6JOv2++S7jT8vOiSNR479yALmAj7BLanPh+L8IW6z8oc60cQfVY/0RZ8ClY8h+ihtFQ28298pEdpRl7JN93FgFdZv+Ddy/jpejcc0XPwuVfK+ekWTorLXADPFdoEHVH1x7po3WNCsE29traFhNnzQPob6VOXMLtHr4ZABheR3cY3yIla3hrIzZFrChg+dh4roZjfq6vHg2Y8K/1wfnGmWGxmmvkh3IbfE5O5V2qyGbQyZ1v5O1Tw7Zp07cQQ9X51PBhp/jdFif0dzWgdFGcmk4f8C1e5sHJZZFsTLs4l+S3navx0cfUI7me24cQRejQ="
    app_path: "browserstack_android_sample/build/outputs/apk/debug/browserstack_android_sample-debug.apk"